<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    
    <section class="container my-5 card shadow px-4 py-3" id="contact">
    
        <h1 class="text-center">Formulir Keberangkatan</h1>
    
        <form action="" id="form">
    
          <div class="row">
              <span class="col-12">Your Name :</span>
              <div class="col">
                <input class="form-control " type="text" placeholder="nama depan" id="nama">
                <span id="errorNama" class="error fs- text text-danger small"></span>
              </div>
              <div class="col">
                <input class="form-control " type="text" placeholder="nama belakang" id="nama1">
                <span id="errorNama1" class="error text-danger small"></span>
              </div>
            </div>
            
            <span>Your Email :</span>
            <input class="form-control" type="email" placeholder="masukan email anda" class="box" id="email">
            <span id="errorEmail" class="text-danger small"></span>
            <br>
    
            <span>Your Number :</span>
            <input class="form-control" type="tel" placeholder="masukan nomer anda" class="box" id="number" minlength="11" maxlength="14">
            <span id="errorNumber" class="text-danger small"></span>
            <br>

            <div class="row">
              <div class="col">
                <span>Jam Keberangkatan:</span>
                <input class="form-control" type="text" placeholder="masukan waktu anda" class="box" id="jam">
                <span id="errorJam" class="text-danger small"></span>
              </div>
              
              <div class="col">
                <span>Tempat Tujuan :</span>
                <input class="form-control" type="text" placeholder="masukan tujuan anda" class="box" id="tujuan">
                <span id="errorTujuan" class="text-danger small"></span>
              </div>
            </div>
            <br>
    
            <div class="col-4 mx-auto text-center">
              <span>Tiket: </span>
              <input class="form-control" type="number" class="box1" id="jumlah">
              <span id="errorJumlah" class="text-danger small"></span>
            </div>
            <br>
    
            <div class="text-center">
              <button class="btn btn-info">Submit</button>
            </div>
          </form>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
      // Fungsi untuk memvalidasi form
      function validateForm(event) {
          event.preventDefault(); // Mencegah form untuk submit
          
          // Menghapus pesan error dan status validasi sebelumnya
          let valid = true;
          document.querySelectorAll('.error').forEach(function(span) {
              span.textContent = '';
          });
          document.querySelectorAll('input').forEach(function(input) {
              input.classList.remove('invalid');
          });

          // Validasi Nama Pelanggan
          let nama = document.getElementById("nama").value;
          if (nama === '') {
              document.getElementById("errorNama").textContent = 'Nama tidak boleh kosong';
              document.getElementById("nama").classList.add('invalid');
              valid = false;
          } else if (nama.length > 30) {
              document.getElementById("errorNama").textContent = 'Nama maksimal 30 karakter';
              document.getElementById("nama").classList.add('invalid');
              valid = false;
          }
          let nama1 = document.getElementById("nama1").value;
          if (nama1 === '') {
              document.getElementById("errorNama1").textContent = 'Nama tidak boleh kosong';
              document.getElementById("nama1").classList.add('invalid');
              valid = false;
          } else if (nama.length > 30) {
              document.getElementById("errorNama1").textContent = 'Nama maksimal 30 karakter';
              document.getElementById("nama1").classList.add('invalid');
              valid = false;
          }
          
          // Validasi Email
          let email = document.getElementById("email").value;
          let emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
          if (email === '') {
              document.getElementById("errorEmail").textContent = 'Email tidak boleh kosong';
              document.getElementById("email").classList.add('invalid');
              valid = false;
          } else if (!emailPattern.test(email)) {
              document.getElementById("errorEmail").textContent = 'Format email tidak valid';
              document.getElementById("email").classList.add('invalid');
              valid = false;
          }

          // Validasi Number
          let number = document.getElementById("number").value;
          if (number === '') {
              document.getElementById("errorNumber").textContent = 'Nomer tidak boleh kosong';
              document.getElementById("number").classList.add('invalid');
              valid = false;
          } else if (number.length > 15) {
              document.getElementById("errorNumber").textContent = 'Maksimal 15 Nomer';
              document.getElementById("number").classList.add('invalid');
              valid = false;
          }
          // Validasi Jam Keberangkatan
          let jam = document.getElementById("jam").value;
          let jamPattern = /^(0[0-9]|1[0-9]|2[0-3]):([0-5][0-9])$/;
          if (jam === '') {
              document.getElementById("errorJam").textContent = 'Jam keberangkatan tidak boleh kosong';
              document.getElementById("jam").classList.add('invalid');
              valid = false;
          } else if (!jamPattern.test(jam)) {
              document.getElementById("errorJam").textContent = 'Format jam tidak valid (00:00 - 23:59)';
              document.getElementById("jam").classList.add('invalid');
              valid = false;
          }

          // Validasi Tujuan Keberangkatan
          let tujuan = document.getElementById("tujuan").value;
          if (tujuan === '') {
              document.getElementById("errorTujuan").textContent = 'Tempat tujuan tidak boleh kosong';
              document.getElementById("tujuan").classList.add('invalid');
              valid = false;
          }

          // Validasi Jumlah Tiket
          let jumlah = document.getElementById("jumlah").value;
          if (jumlah === '') {
              document.getElementById("errorJumlah").textContent = 'Tiket tidak boleh kosong';
              document.getElementById("jumlah").classList.add('invalid');
              valid = false;
          } else if (jumlah < 1 || jumlah > 10) {
              document.getElementById("errorJumlah").textContent = 'Tiket harus antara 1 dan 10';
              document.getElementById("jumlah").classList.add('invalid');
              valid = false;
          }

          // Jika semua validasi berhasil, tampilkan data
          if (valid) {
              let result = `
                  <h3>Data Keberangkatan</h3>
                  <p><strong>Nama Pelanggan:</strong> ${nama}</p>
                  <p><strong>Email:</strong> ${email}</p>
                  <p><strong>Jam Keberangkatan:</strong> ${jam}</p>
                  <p><strong>Tujuan Keberangkatan:</strong> ${tujuan}</p>
                  <p><strong>Jumlah Tiket:</strong> ${jumlah}</p>
              `;
              document.getElementById("result").innerHTML = result;
          }
      }

      // Menambahkan event listener ke form
      document.getElementById("form").addEventListener("submit", validateForm);
  </script>
</body>
</html>
